# pytest configuration file
# Docs: https://docs.pytest.org/en/stable/reference/customize.html

[pytest]
# Minimum Python version
minversion = 3.14.0

# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Directories to search for tests
testpaths = tests

# Add current directory to Python path
pythonpath = .

# Output options
addopts =
    # Verbose output
    -v
    # Show local variables in tracebacks
    --showlocals
    # Show summary of all test outcomes
    --tb=short
    # Strict markers (fail on unknown markers)
    --strict-markers
    # Strict config (fail on unknown config options)
    --strict-config
    # Coverage (if pytest-cov is installed)
    # --cov=loud_bot
    # --cov-report=term-missing
    # --cov-report=html
    # Parallel execution (if pytest-xdist is installed)
    # -n auto

# Markers (for organizing tests)
markers =
    # Test types (should match folder structure)
    unit: unit tests (fast, no external dependencies)
    integration: integration tests (database, APIs)
    e2e: end-to-end tests (full workflows)
    
    # Cross-cutting concerns
    slow: tests that take >1 second
    smoke: quick tests to verify basic functionality
    requires_db: tests that need database connection
    requires_auth: tests that need authentication
    external_api: tests that call external APIs

# Warning filters
filterwarnings =
    error
    # Ignore specific warnings if needed
    # ignore::DeprecationWarning
    # ignore::PendingDeprecationWarning

# Console output style
console_output_style = progress

# Minimum coverage percentage (if using pytest-cov)
# [coverage:report]
# fail_under = 80